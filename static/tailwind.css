@import "tailwindcss";

@theme {
  --color-brand-dark: #0f172a;       /* Slate 900 - Main BG */
  --color-brand-card: #1e293b;       /* Slate 800 - Card/Header BG */
  --color-brand-edge: #334155;       /* Slate 700 - Borders */
  --color-brand-code: #1f2428;       /* was --code-bg */

  /* Text */
  --color-text-main: #e2e8f0;
  --color-text-muted: #94a3b8;
  
  /* Accent */
  --color-accent: #38bdf8;

  /* Fonts */
  --font-serif: "Playfair Display", serif;
  --font-sans: "Inter", sans-serif;
  --font-mono: "SFMono-Regular", Consolas, "Liberation Mono", monospace;
  
  /* Layout */
  --spacing-header: 70px;
  --width-page: 1200px;
}


/* 4. Base Styles (Global defaults) */
@layer base {
  body {
    /* Apply theme variables using Tailwind utility classes */
    @apply bg-brand-dark text-text-main font-sans antialiased;
    
    /* Sticky footer setup */
    @apply flex flex-col items-center justify-between min-h-dvh gap-y-2;
    
  }

  /* Optional: Global reset for headers to use the serif font */
  h1 {
    @apply font-serif text-white text-3xl my-3;
    @apply md:text-5xl md:my-5;
  }

  h2 {
    @apply font-serif text-white text-2xl mt-6 mb-2;
    @apply md:text-4xl md:mt-8 md:mb-3;
  }

  h3, h4, h5, h6 {
    @apply font-serif text-white text-xl mt-5 mb-2;
    @apply md:text-3xl md:mt-7 md:mb-3;
  }

  p {
    @apply mb-2;
  }
}

@utility btn-base {
  @apply px-4 py-2 rounded-lg font-semibold transition-all active:scale-95 cursor-pointer flex items-center justify-center text-center gap-2;
}

@utility btn-sm {
  @apply px-2 py-1 rounded-lg font-semibold transition-all active:scale-95 cursor-pointer flex items-center text-[0.5rem] justify-center text-center gap-1 leading-none;
}

@layer components {

  /* 2. Now you can @apply 'btn-base' */
  .btn-primary {
    @apply btn-base bg-accent text-brand-dark hover:opacity-90 shadow-lg shadow-accent/20;
  }

  .btn-secondary {
    @apply btn-base bg-brand-edge/30 text-text-main hover:bg-brand-edge/50 border border-brand-edge;
  }

  .btn-danger-soft {
    @apply btn-base bg-red-500/10 text-red-400 border border-red-500/20 hover:bg-red-500 hover:text-white hover:border-red-500;
  }

  .btn-sm-danger-soft {
    @apply btn-sm bg-red-500/10 text-red-400 border border-red-500/20 hover:bg-red-500 hover:text-white hover:border-red-500;
  }

  .btn-ghost {
    @apply btn-base bg-transparent text-text-muted hover:text-text-main hover:bg-brand-edge/20;
  }

  .top-banner {
    @apply sticky top-0 z-50;
    @apply w-full h-header md:h-[85px] flex flex-col justify-center items-center;
    background-image: 
      linear-gradient(rgba(13, 17, 23, 0.8), rgba(13, 17, 23, 0.9)), 
      url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop');
    
    background-size: cover;
    background-position: center;
    /* @apply border border-amber-300; */
  }
  
  .banner-content { 
    @apply w-full h-auto text-center flex flex-row justify-between items-center px-6;
    @apply lg:w-3/4;
    /* @apply border-2 border-accent; */
  }
  
  .main-content {
    @apply w-full lg:w-3/4 grow p-3;
    /* @apply border border-amber-300; */
  }
  
  .footer-banner {
    @apply w-full h-10 flex flex-col justify-center items-center;
    background-image:linear-gradient(rgba(13, 17, 23, 0.8), rgba(13, 17, 23, 0.9));
    /* @apply border border-amber-300; */
  }
  
  .footer-content { 
    @apply font-serif;
    @apply lg:w-3/4 h-100 text-center flex flex-col justify-center;
  }
}



/* blog page */
@layer components {

  .layout-container {
    @apply px-2;
    @apply w-full;
    @apply lg:w-3/4;
  }

  .layout-container main h1 {
    @apply mt-2 mb-5;
  }
  
  .markdown-body pre {
    @apply p-3 my-6 overflow-x-auto;
    @apply md:w-auto ;
    @apply rounded-lg border border-brand-edge;
    @apply bg-brand-code shadow-lg;
    position: static;
  }

  .markdown-body pre code {
    @apply block bg-transparent p-1;
    @apply text-gray-200 font-mono text-lg leading-snug;
    @apply border-none;
  }
  
  code {
    @apply font-mono  rounded-md;
    @apply border-l border-accent;
    @apply ml-0.5 px-1.5 py-1 bg-gray-800 text-text-muted;
  }

  .brand{
    @apply my-3;
  }
  
  .list-item-title {
    @apply mb-3;
  }

  .post-list {
    @apply flex flex-col gap-7;
  }

  .post-list-card {
    @apply grid grid-cols-[80px_1fr] grid-rows-[auto_auto_auto] content-between;
    @apply pt-2 h-[90px] lg:h-[140px];
    /* @apply border rounded-2xl border-accent; */

    @apply lg:p-3 lg:gap-x-3;

    /* backgroun and shadow */
    @apply bg-[#161b22];
    @apply shadow-lg shadow-black/50;
    @apply transition-transform hover:-translate-y-1;

    grid-template-areas: 
      "image title"
      "image description"
      "author meta";
    }
    
    .post-list-card-image {
      grid-area: image;
      @apply w-12 h-12 lg:w-[70px] lg:h-[70px];
      @apply justify-self-center self-center;
      @apply text-center text-5xl lg:text-6xl font-bold text-red-500;
      @apply flex items-center justify-center;
      /* @apply border border-orange-500; */
    }
  
    .post-list-card-author {
      grid-area: author;
      @apply justify-self-center self-start;
      @apply text-xs;
      @apply lg:text-sm;
      /* @apply border border-orange-500; */
    }
  
    .post-list-card-title {
      grid-area: title;
      @apply font-bold;
      @apply lg:text-xl lg:font-bold;
      @apply truncate;
      /* @apply border border-orange-500; */
    }
  
    .post-list-card-description {
      grid-area: description;
      @apply self-start;
      @apply text-sm lg:text-sm truncate;
      /* @apply border border-orange-500; */
    }
  
    .post-list-card-meta {
      grid-area: meta;
      @apply text-sm italic justify-self-end;
      /* @apply border border-orange-500; */
    }
  
  .copy-btn {
    @apply sticky;
    
    left: calc(100% - 25px); 
    top: -25px; 
    background-color: rgba(255, 255, 255, 0.1);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    cursor: pointer;
    padding: 4px 6px;
    color: var(--text-secondary);
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;

    @apply p-1.5; 
  }

  .copy-btn:hover {
    background-color: rgba(255, 255, 255, 0.2);
    color: #fff;
    border-color: #8b949e;
  }

  .copy-btn svg {
    fill: currentColor;
    width: 16px;
    height: 16px;
  }

  img {
    max-width: 100%;
    border-radius: 8px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
  }

  .post-image {
    @apply w-full h-auto rounded-xl my-8 shadow-xl transition-opacity duration-300;
    @apply border border-brand-edge/30;
    display: block;
    transition: transform 0.3s ease;
  }

  .post-image:hover {
    transform: scale(1.01);
  }

  /* register page */
  .layout-container-register {
    @apply flex grow items-center justify-center px-4;
    @apply w-full;
    @apply lg:w-3/4;
    /* @apply border border-amber-300; */
  }

  .auth-card {
    @apply w-full max-w-md mx-auto p-4;
    @apply bg-brand-card border border-brand-edge rounded-xl;
    @apply shadow-2xl;
    /* @apply border border-amber-300; */
  }

  .form-group {
    @apply mb-5 flex flex-col gap-y-1.5;
  }

  .form-label {
    @apply text-sm font-semibold text-text-main uppercase tracking-wider pl-1.5;
  }

  .form-input {
    @apply w-full px-4 py-2.5;
    @apply bg-brand-dark border border-brand-edge rounded-lg;
    @apply text-text-main placeholder:text-text-muted;
    @apply transition-all outline-none;
    @apply focus:border-accent focus:ring-1 focus:ring-accent;
  }

  .btn-primary {
    @apply w-full py-3 px-4;
    @apply bg-accent text-brand-dark font-bold rounded-lg;
    @apply transition-all transform hover:opacity-90 active:scale-95 cursor-pointer;
  }

  .error-banner {
    @apply mb-6 p-4 bg-red-500/10 border border-red-500/50 text-red-400 text-sm rounded-lg;
  }

  /* login page */
  .layout-container-login{
    @apply flex grow items-center justify-center px-4;
    @apply w-full;
    @apply lg:w-3/4;
  }
}

@layer utilities {
  
}
